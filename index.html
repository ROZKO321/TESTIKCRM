<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Coldi CRM — Вход</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body class="login-body">
  <div class="login-container">
    <div class="login-box">
      <div class="welcome-title">Добро пожаловать в Coldi CRM</div>
      <div class="motivation">Сегодня — лучший день для новых достижений.</div>

      <form onsubmit="return login(event)">
        <input type="text" id="username" placeholder="Имя пользователя" required />
        <input type="password" id="password" placeholder="Пароль" required />
        <button type="submit">Войти</button>
      </form>
    </div>
  </div>

  <canvas id="backgroundCanvas"></canvas>

  <script>
    // Пример входа
    function login(event) {
      event.preventDefault();
      const user = document.getElementById("username").value.trim();
      const pass = document.getElementById("password").value.trim();

      if ((user === "admin" || user === "manager") && pass === "123") {
        localStorage.setItem("user", user);
        localStorage.setItem("role", user === "admin" ? "admin" : "manager");
        window.location.href = "home.html";
      } else {
        alert("Неверные данные для входа");
      }
    }

    // Динамичный фон (по желанию можно отключить)
    const canvas = document.getElementById("backgroundCanvas");
    const ctx = canvas.getContext("2d");
    let w, h, particles;

    function resizeCanvas() {
      w = canvas.width = window.innerWidth;
      h = canvas.height = window.innerHeight;
      initParticles();
    }

    function initParticles() {
      particles = Array.from({ length: 50 }, () => ({
        x: Math.random() * w,
        y: Math.random() * h,
        vx: (Math.random() - 0.5) * 0.8,
        vy: (Math.random() - 0.5) * 0.8,
        radius: Math.random() * 2 + 1
      }));
    }

    function animate() {
      ctx.clearRect(0, 0, w, h);
      particles.forEach(p => {
        p.x += p.vx;
        p.y += p.vy;

        if (p.x < 0 || p.x > w) p.vx *= -1;
        if (p.y < 0 || p.y > h) p.vy *= -1;

        ctx.beginPath();
        ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
        ctx.fillStyle = "#93c5fd";
        ctx.fill();
      });
      requestAnimationFrame(animate);
    }

    window.addEventListener("resize", resizeCanvas);
    resizeCanvas();
    animate();
  </script>
</body>
</html>
