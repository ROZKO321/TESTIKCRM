<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ë–∞–∑–∞ –ª–∏–¥–æ–≤ ‚Äî Coldi CRM</title>
  <link rel="stylesheet" href="css/style.css" />

  <script>
    const role = localStorage.getItem("role");
    const user = localStorage.getItem("user");
    if (!role || !user) window.location.href = "login.html";
  </script>

</head>
<body>
  <div class="page-wrapper">
    <!-- –°–∞–π–¥–±–∞—Ä -->
    <aside class="sidebar">
      <div class="logo">
        <img src="img/logo.svg" alt="Logo" />
        Coldi CRM
      </div>
      <nav class="menu">
        <a href="home.html">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="leads.html" class="active">–õ–∏–¥—ã</a>
        <a href="notifications.html">–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è</a>
        <a href="admin.html" id="adminLink">–ê–¥–º–∏–Ω</a>
        <a href="#" class="logout-link" onclick="logout()">–í—ã—Ö–æ–¥</a>
      </nav>
    </aside>

    <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="main-content">
      <div class="topbar">
        <div class="greeting">–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, <span id="username">–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</span>!</div>
        <div id="notificationIcon" class="notification-icon">
          <img src="img/bell.svg" alt="üîî" />
          <div id="notificationBadge" class="notification-badge" style="display: none;">0</div>
        </div>
      </div>

      <section class="leads-page">
        <h2>–ë–∞–∑–∞ –ª–∏–¥–æ–≤</h2>

        <!-- –§–∏–ª—å—Ç—Ä—ã -->
        <div class="filter-bar">
          <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏, email –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—É" />
          <select id="statusFilter">
            <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
            <option value="new">–ù–æ–≤—ã–π</option>
            <option value="in-progress">–í —Ä–∞–±–æ—Ç–µ</option>
            <option value="closed">–ó–∞–∫—Ä—ã—Ç</option>
          </select>
          <select id="affiliateFilter">
            <option value="">–í—Å–µ –∞—Ñ—Ñ–∏–ª–∏–∞—Ç—ã</option>
          </select>
          <select id="perPage">
            <option value="10">–ü–æ–∫–∞–∑–∞—Ç—å 10</option>
            <option value="20">–ü–æ–∫–∞–∑–∞—Ç—å 20</option>
            <option value="30">–ü–æ–∫–∞–∑–∞—Ç—å 30</option>
            <option value="50">–ü–æ–∫–∞–∑–∞—Ç—å 50</option>
            <option value="100">–ü–æ–∫–∞–∑–∞—Ç—å 100</option>
          </select>
        </div>

        <!-- –°–ø–∏—Å–æ–∫ –ª–∏–¥–æ–≤ -->
        <div class="lead-list" id="leadList"></div>

        <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
        <div class="pagination" id="pagination"></div>
      </section>
    </main>
  </div>

  <!-- –ü–æ–ø–∞–ø —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π -->
  <div id="notificationPopup" class="notification-popup"></div>

  <!-- –°–∫—Ä–∏–ø—Ç—ã -->
  <script src="js/reminder.js"></script>
  <script src="js/leads.js"></script>
</body>
</html>
